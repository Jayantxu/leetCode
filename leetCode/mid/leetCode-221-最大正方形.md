*åŽŸé¢˜é“¾æŽ¥ï¼šðŸ‘‰ï¼š[æœ€å¤§æ­£æ–¹å½¢](https://leetcode-cn.com/problems/maximal-square/description/)*

é¢˜ç›®æè¿°:

1. åœ¨ä¸€ä¸ªç”± '0' å’Œ '1' ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« '1' çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›žå…¶é¢ç§¯ã€‚

ç¤ºä¾‹ï¼š


![ç¤ºä¾‹1](https://assets.leetcode.com/uploads/2020/11/26/max1grid.jpg)
```
è¾“å…¥ï¼šmatrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"],["1","0","0","1","0"]]
è¾“å‡ºï¼š4
```

![ç¤ºä¾‹2](https://assets.leetcode.com/uploads/2020/11/26/max2grid.jpg)
```
è¾“å…¥ï¼šmatrix = [["0","1"],["1","0"]]
è¾“å‡ºï¼š1
```

æ€è·¯ï¼š

- é¢˜è§£

åŠ¨æ€è§„åˆ’ï¼Œæœ€å¤§æ­£æ–¹å½¢é¢ç§¯å°±æ„å‘³ç€ä¼šæœ‰æœ€å¤§çš„è¾¹é•¿ï¼Œå› æ­¤æˆ‘ä»¬è®¡ç®—å‡º`1`å¯ä»¥ç»„æˆçš„æœ€å¤§è¾¹é•¿å³å¯ã€‚

```
[
    [1,  1,  0]
    [0,  1,  1],
    [1,  1,  1]
]
```

æˆ‘ä»¬ä½¿ç”¨`dp[i][j]`è¡¨ç¤ºä»¥`i,j`ä¸ºå³ä¸‹è§’çš„æ­£æ–¹å½¢ï¼Œè®¡ç®—ä»¥æ­¤ä¸ºå³ä¸‹è§’çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿ã€‚é‚£ä¹ˆå®ƒçš„æœ€å¤§è¾¹é•¿å³å¯ä»¥è½¬ç§»ä¸ºå…¶ä»–ä¸‰ä¸ªç»„æˆçš„åæ ‡ä¸­æœ€å°çš„è¾¹é•¿ç»„æˆã€‚

```
dp[i][j] = Math.min( dp[i][j-1], dp[i-1][j-1], dp[i-1][j] ) + 1
```

ä»¥ä¸Šé¢çš„çš„ç¤ºä¾‹äºŒç»´æ•°ç»„æ¥è¯´ï¼Œå³è®¡ç®—åŽ:

```
[
    [1,  1,  0]
    [0,  1,  1],
    [1,  1,  2]
]
```

**codeï¼š**

```
var maximalSquare = function(matrix) {
    // åšå¤§çš„æ­£æ–¹å½¢è¾¹æ•°
    let maxArea = 0;
    // å¦‚æžœæœ‰ä»¥ä¸‹ä¸ç¬¦åˆçš„æƒ…å†µ
    if(!matrix || !matrix.length || !matrix[0].length) return maxArea;
    // è®°å½•dp
    const dp = new Array(matrix.length).fill(0).map(item => new Array(matrix[0].length).fill(0));
    for(let i = 0; i < matrix.length; i++) {
        for(let j = 0; j < matrix[0].length; j++) {
            // '1'çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½å¼€å§‹ä½œä¸ºè®°å½•
            if(matrix[i][j] === '1') {
                // å¦‚æžœæ˜¯èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆè‚¯å®šä¸º1çš„
                if(i === 0 || j === 0) {
                    dp[i][j] = 1;
                } else {
                    // è½¬ç§»æ–¹ç¨‹ï¼Œä»¥è‡ªå·±ä¸ºå³ä¸‹è§’çš„æƒ…å†µä¸‹ï¼Œç»Ÿè®¡è¿™ä¹ˆä¸€ä¸ªæ­£æ–¹å½¢æœ€å¤§è¾¹
                    dp[i][j] = Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) + 1;
                }
                maxArea = Math.max(maxArea, dp[i][j]);
            }
        }
    }
    // é¢ç§¯ = è¾¹é•¿ * è¾¹é•¿
    maxArea = maxArea * maxArea;
    return maxArea;
};
```