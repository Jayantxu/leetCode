*åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š[æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/)*

é¢˜ç›®æè¿°:

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²Â sÂ å’Œä¸€ä¸ªéç©ºå­—ç¬¦ä¸²Â pï¼Œæ‰¾åˆ°Â sÂ ä¸­æ‰€æœ‰æ˜¯Â pÂ çš„å­—æ¯å¼‚ä½è¯çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚
å­—ç¬¦ä¸²åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²Â sÂ å’Œ pÂ çš„é•¿åº¦éƒ½ä¸è¶…è¿‡ 20100ã€‚
è¯´æ˜ï¼š
1. å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚
2. ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥:
s: "cbaebabacd" p: "abc"

è¾“å‡º:
[0, 6]

è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚

```

æ€è·¯ï¼š

> æ»‘åŠ¨çª—å£

```
var findAnagrams = function(s, p) {
    let resArr = [];
    let pMap = new Map(),
        pObj = {};
    // ä½¿ç”¨ä¸€ä¸ªMapè®°å½•éœ€è¦på­—ç¬¦ä¸²çš„å­—ç¬¦ç§ç±»åŠè¦æ±‚æ•°é‡ï¼Œè¿™ä¸ªæ˜¯ä¸ä¼šå˜çš„
    // ä½¿ç”¨ä¸€ä¸ªObjç”¨äºå®æ—¶è®°å½•çª—å£å†…çš„å­—ç¬¦ç§ç±»åŠæ•°é‡ï¼Œè¿™ä¸ªç§ç±»ä¹Ÿå¿…é¡»åªèƒ½æ˜¯pä¸²ä¸Šæœ‰çš„å­—ç¬¦
    for(let i of p) {
        if(!pMap.has(i)) {
            pMap.set(i, 0);
            pObj[i] = 0;
        }
        pMap.set(i, pMap.get(i) + 1);
    }
    // ä½¿ç”¨ä¸¤æŒ‡é’ˆç”¨äºè¡¨ç¤ºç»´æŠ¤çš„çª—å£
    let slow = 0,
        fast = 0,
        isValidCharType = 0; // è®°å½•çª—å£å†…å­—ç¬¦æ•°æ˜¯å¦æ˜¯æ»¡è¶³æ¡ä»¶çš„
    while(fast < s.length) {
        let nowChar = s.charAt(fast);
        fast ++;
        // å¦‚æœå½“å‰fastçš„å­—ç¬¦åœ¨æ˜¯pMapå†…
        if(pMap.get(nowChar)) {
            // pObjç»Ÿè®¡çš„è¯¥å­—ç¬¦æ•°é‡è¦å¢åŠ 
            pObj[nowChar]++;
            // å½“æ•°é‡æ»¡è¶³ç»Ÿè®¡æ•°é‡æ—¶ï¼Œæœ‰æ•ˆå­—ç¬¦ç±»å‹è¦å¢åŠ 
            if(pMap.get(nowChar) === pObj[nowChar]) {
                isValidCharType++;
            }
        }
        // å½“fast - slow æ„æˆçš„çª—å£å¤§å°ï¼Œå¤§äºç­‰äºpå­—ç¬¦çš„é•¿åº¦ä¹‹å
        while(fast - slow >= p.length) {
            // å¦‚æœå½“å‰çª—å£å†…çš„å­—ç¬¦æ•°é‡ç­‰äºéœ€è¦ç»Ÿè®¡çš„å­—ç¬¦æ•°é‡
            // åˆ™è®°å½•ä¸€ä¸‹slowçš„æŒ‡å‘
            if(isValidCharType === pMap.size) {
                resArr.push(slow);
            }
            // slowå¼€å§‹å·¦ç§»
            let slowChar = s.charAt(slow);
            slow++;
            if(pMap.get(slowChar)) {
                // å¦‚æœæœ¬èº«æ•°é‡æ­£å¥½æ˜¯ç­‰äºçš„ï¼Œå·¦ç§»ä¹‹åå…ƒç´ å¿…å®šå°±ä¸ç¬¦åˆäº†ï¼Œå› æ­¤æœ‰æ•ˆæ€§-1
                if(pObj[slowChar] === pMap.get(slowChar)) {
                    isValidCharType--;
                }
                // å·¦ç§»ä¹‹åå…ƒç´ å‡ä¸€
                pObj[slowChar]--;
            }
        }
    }
    return resArr;
};
```