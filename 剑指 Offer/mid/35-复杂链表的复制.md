*åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š[å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)*

é¢˜ç›®æè¿°:

1. è¯·å®ç° copyRandomList å‡½æ•°ï¼Œå¤åˆ¶ä¸€ä¸ªå¤æ‚é“¾è¡¨ã€‚åœ¨å¤æ‚é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é™¤äº†æœ‰ä¸€ä¸ª next æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ª random æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„èŠ‚ç‚¹æˆ–è€… nullã€‚

ç¤ºä¾‹ï¼š

![ç¤ºä¾‹1](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/01/09/e1.png)
```
è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]
è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]
```

![ç¤ºä¾‹2](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/01/09/e2.png)
```
è¾“å…¥ï¼šhead = [[1,1],[2,1]]
è¾“å‡ºï¼š[[1,1],[2,1]]
```

æ€è·¯ï¼š
> éå†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡å…ˆè®°å½•ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œç¬¬äºŒæ¬¡å°±å»æ”¹å˜èŠ‚ç‚¹çš„æŒ‡å‘

```
var copyRandomList = function(head) {
    if(!head) return null;
    let m = new Map();
    let node = head;
    while(node) {
        m.set(node, new Node(node.val));
        node = node.next;
    }
    node = head;
    while(node) {
        m.get(node).next = node.next ? m.get(node.next) : null;
        m.get(node).random = node.random ? m.get(node.random) : null;
        node = node.next;
    }
    return m.get(head);
};
```