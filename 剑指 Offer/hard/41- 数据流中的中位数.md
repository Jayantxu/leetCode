*åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š[ æ•°æ®æµä¸­çš„ä¸­ä½æ•°](https://leetcode-cn.com/problems/shu-ju-liu-zhong-de-zhong-wei-shu-lcof/)*

é¢˜ç›®æè¿°:

1. å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚

ä¾‹å¦‚ï¼Œ

[2,3,4]Â çš„ä¸­ä½æ•°æ˜¯ 3

[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5

è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š

void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚
double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚

ç¤ºä¾‹ï¼š
```
è¾“å…¥ï¼š
["MedianFinder","addNum","addNum","findMedian","addNum","findMedian"]
[[],[1],[2],[],[3],[]]
è¾“å‡ºï¼š[null,null,null,1.50000,null,2.00000]
```

ç¤ºä¾‹ï¼š
```
è¾“å…¥ï¼š
["MedianFinder","addNum","findMedian","addNum","findMedian"]
[[],[2],[],[3],[]]
è¾“å‡ºï¼š[null,null,2.00000,null,2.50000]

```

æ€è·¯ï¼š
> å› ä¸ºæ•°å­—ä¸€ç›´åœ¨åŠ çš„ï¼Œå› æ­¤è‚¯å®šå¯ä»¥æœ‰è¿™ä¹ˆä¸¤ä¸ªæˆ–è€…ä¸€ä¸ªæŒ‡é’ˆçš„å›ºå®šå…³ç³»ï¼Œæˆ‘ä»¬åœ¨éšç€æ•°å­—å¢åŠ æ—¶ï¼ŒæŒ‡é’ˆå˜åŒ–

```
// â‘ 
[1]
l = 0
r = 0

// â‘¡
[1, 2]
l = 0
r = 1

// â‘¢
[1, 2, 3]
l = 1
r = 1

// â‘£
[1, 2, 3, 4]
l = 1
r = 2
```

æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°å½±å“ä¸­ä½æ•°çš„ä¸¤ä¸ªæŒ‡é’ˆå…³ç³»ï¼Œæ˜¯ä¸æ–­`l+1`,`r+1`çš„...
*long time ago*
ä¸å¥½æ„æ€ï¼Œæƒ³é”™äº†...


> â‘ ï¼šæ¯æ¬¡æ’å…¥çš„æ—¶å€™éƒ½æš´åŠ›æ’åºï¼›â‘¡ï¼šæ¯æ¬¡æ’å…¥å› ä¸ºéƒ½æ˜¯æœ‰åºçš„ï¼Œå› æ­¤ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚æ‰¾å‡ºåº”è¯¥æ­£ç¡®æ’å…¥çš„ä½ç½®ã€‚
```
/**
 * initialize your data structure here.
 */
class MedianFinder {
    constructor() {
        this.recordArr = [];
    }
    // æ¯æ¬¡æ’å…¥çš„æ—¶å€™ï¼Œéƒ½äºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ¤æ–­ä¸€ä¸‹åº”è¯¥å¦‚ä½•æ­£ç¡®æ’å…¥

    addNum(num) {
        if (!this.recordArr.length) {
            this.recordArr.push(num);
            return;
        }

        let left = 0,
            right = this.recordArr.length - 1;
        while (left <= right) {
            let mid = Math.floor((left + right) / 2);
            if (this.recordArr[mid] === num) {
                this.recordArr.splice(mid, 0, num);
                return;
            } else if (this.recordArr[mid] < num) {
                left = mid + 1;
            } else {
                right = mid - 1;
            }
        }
        this.recordArr.splice(right + 1, 0, num);
    }
    findMedian() {
        const length = this.recordArr.length;
        if (!length) {
            return null;
        }

        const mid = Math.floor((length - 1) / 2);
        if (length % 2) {
            return this.recordArr[mid];
        }
        return (this.recordArr[mid] + this.recordArr[mid + 1]) / 2;
    }
}
```