*åŸé¢˜é“¾æ¥ï¼šğŸ‘‰ï¼š[æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode-cn.com/problems/sliding-window-maximum/description/)*

é¢˜ç›®æè¿°:

1. ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ k ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

2. è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚


ç¤ºä¾‹ï¼š
```
è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3
è¾“å‡ºï¼š[3,3,5,5,6,7]
è§£é‡Šï¼š
æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

```
è¾“å…¥ï¼šnums = [1], k = 1
è¾“å‡ºï¼š[1]
```

æ€è·¯ï¼š
> æŸ¥çœ‹äº†é¢˜è§£æ€è·¯å†™ä¸‹çš„ç­”æ¡ˆ

æˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡çš„æ ˆï¼Œå½“çª—å£é•¿åº¦ç¬¦åˆè¦æ±‚å¼€å§‹ï¼Œå°±å¼€å§‹å¯ä»¥å‡ºæ ˆäº†ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

ä»¥ç¤ºä¾‹`nums = [1,3,-1,-3,5,3,6,7], k = 3`ä¸ºä¾‹å­ã€‚

ä»–çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š

- ä¸€
```

numsï¼š
idx:   0, 1,  2,  3, 4, 5, 6, 7
nums: [1, 3, -1, -3, 5, 3, 6, 7]
       L
       R
kValArr: [0]

kValArr[0] = 0 = L ä¸ shift

R + 1 = 1 !> k(3)
```

- äºŒ

```

numsï¼š
idx:   0, 1,  2,  3, 4, 5, 6, 7
nums: [1, 3, -1, -3, 5, 3, 6, 7]
       L
          R

nums[R] > nums[0], 0å‡ºæ ˆï¼Œ Rçš„ç´¢å¼•å…¥æ ˆ
kValArr: [1]

kValArr[0] = 0 = L ä¸ shift

R + 1 = 2 !> k(3)
```

- ä¸‰

```

numsï¼š
idx:   0, 1,  2,  3, 4, 5, 6, 7
nums: [1, 3, -1, -3, 5, 3, 6, 7]
       L
              R
nums[R] < nums[1]ï¼ŒRå…¥æ ˆ
kValArr: [1, 2]

kValArr[0] = 0 = L ä¸ shift

R + 1 = 3 = k(3)

kValArr[0] = 1 => nums[1] = 3
resArr = [3]
L++

```

- å››


```

numsï¼š
idx:   0, 1,  2,  3, 4, 5, 6, 7
nums: [1, 3, -1, -3, 5, 3, 6, 7]
          L
                  R
nums[R] < nums[2]ï¼ŒRå…¥æ ˆ
kValArr: [1, 2, 3]

kValArr[0] = 1 = L ä¸ shift

R + 1 = 3 = k(3)

kValArr[0] = 1 => nums[1] = 3
resArr = [3, 3]
L++

```

- äº”
```

numsï¼š
idx:   0, 1,  2,  3, 4, 5, 6, 7
nums: [1, 3, -1, -3, 5, 3, 6, 7]
              L
                     R
nums[R] > nums[3]ï¼Œæ¥è¿å‡ºæ ˆï¼ŒRå…¥æ ˆ
kValArr: [4]

kValArr[0] = 4 > L ä¸ shift

R + 1 = 3 = k(3)

kValArr[0] = 4 => nums[4] = 5
resArr = [3, 3, 5]
L++

```

...ä¾æ¬¡ç±»æ¨ï¼Œdebuggerä¸€ä¸‹æ›´æ¸…æ™°


**code**

```
var maxSlidingWindow = function(nums, k) {
    let resArr = [];
    let L = 0,
        R = 0;
    let kValArr = [];
    // Rå¼€å§‹éå†ï¼ŒRåˆ°å³è¾¹ç•Œçš„æ—¶å€™å°±è¯¥åœäº†
    for(; R < nums.length; R++) {
        
        // å½¢æˆä¸€ä¸ªå•è°ƒé€’å‡æ ˆ
        while(kValArr.length && nums[kValArr[kValArr.length - 1]] <= nums[R]) {
            kValArr.pop();
        }
        // ä¿å­˜ç´¢å¼•ä¸‹æ ‡
        kValArr.push(R);

        // éšç€Lçš„å¢åŠ ï¼Œå¦‚æœé˜Ÿå¤´çš„å…ƒç´ å·²ç»ä¸åœ¨çª—å£é‡Œï¼Œé‚£ä¹ˆå®ƒå°±ä¸åº”è¯¥è¿›å…¥ä¸‹ä¸€è½®
        while(kValArr[0] < L) {
            kValArr.shift();
        }
        // å½“R + 1 å¤§äºç­‰äºk æ—¶ï¼Œå¼€å§‹å¯ä»¥è®¡ç®—æœ€å¤§å€¼äº†ï¼ŒæŒ‰ç¤ºä¾‹æ¥è¯´ï¼Œkæ˜¯ä¸‰ï¼Œç´¢å¼•ï¼ŒR+1æ˜¯ç´¢å¼•ï¼Œå¤§äºç­‰äºä¸‰çš„æ—¶å€™å°±è¡Œç¨‹çª—å£äº†
        if(R + 1 >= k) {
            resArr.push(nums[kValArr[0]]);
            L++;
        }
    }
    return resArr;
};
```
